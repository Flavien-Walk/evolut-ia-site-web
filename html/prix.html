<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarifs - Evolut'IA | Plans d'abonnement personnalis√©s</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/prix.css">
    <link rel="stylesheet" href="/evolut-IAlanding/css/scrollbar.css">
    <script src="../script/auth.js" defer></script>
</head>
<body>
    <!-- Header Section modernis√© -->
    <header id="main-header">
        <div class="logo">
            <img src="../images/logo.png" alt="Logo Evolut'IA">
            
        </div>
        <nav>
            <ul>
                <li><a href="/index.html">Accueil</a></li>
<li><a href="/html/produit.html">Produits</a></li>
<li><a href="/html/prix.html">Prix</a></li>
<li><a href="/html/contact.html">Contact</a></li>

            </ul>
        </nav>
        <div class="auth-buttons">
            <button class="connect-btn" id="login-button" onclick="window.location.href='login.html'">
                <span>Se connecter</span>
            </button>
            <button class="profile-btn" id="profile-button" style="display: none;" onclick="window.location.href='profil.html'">
                <span>Mon Profil</span>
            </button>
            <button class="join-btn cta-glow">
                <span>Essai gratuit</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Hero Section Pricing -->
    <section class="pricing-hero">
        <div class="hero-background">
            <div class="floating-elements">
                <div class="float-element">üí∞</div>
                <div class="float-element">üìä</div>
                <div class="float-element">üéØ</div>
                <div class="float-element">‚ö°</div>
                <div class="float-element">üöÄ</div>
            </div>
        </div>
        
        <div class="hero-content">
            <div class="hero-badge">
                <span>üíé Plans flexibles pour tous</span>
            </div>
            <h1>
                Choisis la formule qui 
                <span class="gradient-text">booste</span> tes r√©sultats
            </h1>
            <p class="hero-subtitle">
                De l'√©tudiant motiv√© au professionnel de l'√©ducation, 
                d√©couvre le plan Evolut'IA qui correspond √† tes ambitions !
            </p>
            
            <div class="billing-toggle">
                <span class="toggle-label">Mensuel</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="billing-toggle">
                    <span class="slider"></span>
                </label>
                <span class="toggle-label">Annuel <span class="discount-badge">-20%</span></span>
            </div>
        </div>
    </section>

    <!-- Section introduction -->
    <section class="pricing-intro">
        <div class="intro-content">
            <h2>4 formules pens√©es pour ton succ√®s</h2>
            <p>Chaque plan combine IA avanc√©e, suivi personnalis√© et garantie de r√©sultats.</p>
            <div class="intro-features">
                <div class="feature-highlight">
                    <span class="feature-icon">üéÅ</span>
                    <span class="feature-text">7 jours gratuits</span>
                </div>
                <div class="feature-highlight">
                    <span class="feature-icon">üí∞</span>
                    <span class="feature-text">Satisfait ou rembours√©</span>
                </div>
                <div class="feature-highlight">
                    <span class="feature-icon">üîí</span>
                    <span class="feature-text">Annulation √† tout moment</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Plans Section modernis√©e -->
    <section class="pricing-section">
        <div class="plans-container">
            
            <!-- Plan Basique -->
            <div class="plan-card starter-plan" data-plan="basique">
                <div class="plan-badge-top">Starter</div>
                <div class="plan-header">
                    <h3 class="plan-title">Basique</h3>
                    <p class="plan-description">Parfait pour d√©buter ton aventure d'apprentissage !</p>
                    <div class="plan-pricing">
                        <span class="price-main monthly-price">9,99‚Ç¨</span>
                        <span class="price-main annual-price" style="display: none;">7,99‚Ç¨</span>
                        <span class="price-period">/mois</span>
                    </div>
                    <div class="savings annual-savings" style="display: none;">
                        <span>√âconomise 24‚Ç¨/an</span>
                    </div>
                </div>

                <div class="plan-features">
                    <div class="features-header">
                        <h4>Ce qui t'attend :</h4>
                    </div>
                    <ul class="features-list">
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Test de positionnement complet</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Suivi parental d√©taill√©</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Suivi perfs + accompagnement perso</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">D√©tection de lacunes par IA</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Tests de connaissance & √©val blanches</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Exercices & √©valuations adapt√©s</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Tests en temps r√©el</span>
                        </li>
                    </ul>
                </div>

                <div class="plan-footer">
                    <button class="plan-button starter-btn">
                        <span>Commencer</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                    <div class="guarantee">
                        <span>7 jours gratuits</span>
                    </div>
                </div>
            </div>

            <!-- Plan Avanc√© (Featured) -->
            <div class="plan-card premium-plan featured" data-plan="avance">
                <div class="featured-badge">Le plus populaire</div>
                <div class="plan-badge-top premium">Premium</div>
                <div class="plan-header">
                    <h3 class="plan-title">Avanc√©</h3>
                    <p class="plan-description">La solution compl√®te pour exceller dans tes √©tudes !</p>
                    <div class="plan-pricing">
                        <span class="price-main monthly-price">14,99‚Ç¨</span>
                        <span class="price-main annual-price" style="display: none;">11,99‚Ç¨</span>
                        <span class="price-period">/mois</span>
                    </div>
                    <div class="savings annual-savings" style="display: none;">
                        <span>√âconomise 36‚Ç¨/an</span>
                    </div>
                </div>

                <div class="plan-features">
                    <div class="features-header">
                        <h4>Tout du Basique, plus :</h4>
                    </div>
                    <ul class="features-list">
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Challenge Quiz gamifi√©s</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Masterclass exclusives en ligne</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Personnalisation compl√®te de l'app</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Cartes mentales & fiches synth√®se</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Syst√®me de badges & r√©compenses</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Acc√®s mobile prioritaire</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Support premium 24/7</span>
                        </li>
                    </ul>
                </div>

                <div class="plan-footer">
                    <button class="plan-button premium-btn">
                        <span>Devenir Premium</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                    <div class="guarantee">
                        <span>14 jours gratuits</span>
                    </div>
                </div>
            </div>

            <!-- Plan √âcole -->
            <div class="plan-card education-plan" data-plan="ecole">
                <div class="plan-badge-top education">√âducation</div>
                <div class="plan-header">
                    <h3 class="plan-title">√âcole</h3>
                    <p class="plan-description">Solution compl√®te pour √©tablissements scolaires</p>
                    <div class="plan-pricing">
                        <span class="price-main monthly-price">9,99‚Ç¨</span>
                        <span class="price-main annual-price" style="display: none;">8,99‚Ç¨</span>
                        <span class="price-period">/√©l√®ve/mois</span>
                    </div>
                    <div class="savings annual-savings" style="display: none;">
                        <span>√âconomise 12‚Ç¨/√©l√®ve/an</span>
                    </div>
                </div>

                <div class="plan-features">
                    <div class="features-header">
                        <h4>Sp√©cialement con√ßu pour :</h4>
                    </div>
                    <ul class="features-list">
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Tableau de bord CPE & professeurs</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Suivi individuel + KPI d√©taill√©s</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Interface parents int√©gr√©e</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">D√©tection de lacunes IA avanc√©e</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Cours personnalis√©s + QR codes</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">D√©tection de texte IA</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Support d√©di√© & formation</span>
                        </li>
                    </ul>
                </div>

                <div class="plan-footer">
                    <button class="plan-button education-btn">
                        <span>Nous contacter</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                    <div class="guarantee">
                        <span>D√©mo gratuite</span>
                    </div>
                </div>
            </div>

            <!-- Plan Pro Sant√© -->
            <div class="plan-card health-plan" data-plan="pro-sante">
                <div class="plan-badge-top health">Pro Sant√©</div>
                <div class="plan-header">
                    <h3 class="plan-title">Pro Sant√©</h3>
                    <p class="plan-description">Outils sp√©cialis√©s pour professionnels de sant√©</p>
                    <div class="plan-pricing">
                        <span class="price-main monthly-price">49,99‚Ç¨</span>
                        <span class="price-main annual-price" style="display: none;">39,99‚Ç¨</span>
                        <span class="price-period">/mois</span>
                    </div>
                    <div class="savings annual-savings" style="display: none;">
                        <span>√âconomise 120‚Ç¨/an</span>
                    </div>
                </div>

                <div class="plan-features">
                    <div class="features-header">
                        <h4>Outils professionnels :</h4>
                    </div>
                    <ul class="features-list">
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Acc√®s complet √† la plateforme</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Fonctionnalit√©s th√©rapeutiques avanc√©es</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Outils de suivi patients personnalis√©s</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Conformit√© RGPD & s√©curit√© renforc√©e</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Support d√©di√© prioritaire</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Formation continue incluse</span>
                        </li>
                        <li>
                            <span class="feature-icon">‚úì</span>
                            <span class="feature-text">Accompagnement personnalis√©</span>
                        </li>
                    </ul>
                </div>

                <div class="plan-footer">
                    <button class="plan-button health-btn">
                        <span>Nous contacter</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                    <div class="guarantee">
                        <span>Audit gratuit</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="faq-container">
            <div class="section-header">
                <h2>Questions fr√©quentes</h2>
                <p>Tout ce que tu dois savoir sur nos formules</p>
            </div>
            
            <div class="faq-grid">
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>Puis-je changer de formule √† tout moment ?</h4>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Oui ! Tu peux upgrader, downgrader ou annuler ton abonnement √† tout moment depuis ton profil. Les changements prennent effet imm√©diatement.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>Que se passe-t-il apr√®s la p√©riode d'essai ?</h4>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Si tu es satisfait, ton abonnement continue automatiquement. Sinon, annule avant la fin de la p√©riode d'essai, aucun frais ne sera pr√©lev√©.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>L'abonnement annuel est-il vraiment avantageux ?</h4>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Absolument ! Tu √©conomises 20% sur le prix total, soit l'√©quivalent de 2 mois gratuits. Plus tu restes, plus tu progresses !</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>Puis-je utiliser Evolut'IA sur plusieurs appareils ?</h4>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Oui ! Ton compte fonctionne sur ordinateur, tablette et smartphone. Tes progr√®s se synchronisent automatiquement partout.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section finale -->
    <section class="final-cta">
        <div class="cta-content">
            <h2>Pr√™t √† transformer tes r√©sultats ?</h2>
            <p>Rejoins des milliers d'√©tudiants qui ont d√©j√† choisi l'excellence</p>
            
            <div class="cta-buttons">
                <button class="cta-btn primary">
                    <span>Commencer gratuitement</span>
                </button>
                <button class="cta-btn secondary">
                    <span>Parler √† un conseiller</span>
                </button>
            </div>
            
            <div class="final-guarantees">
                <div class="guarantee-item">
                    <span class="guarantee-icon">‚úÖ</span>
                    <span>7-14 jours gratuits</span>
                </div>
                <div class="guarantee-item">
                    <span class="guarantee-icon">üí∞</span>
                    <span>Satisfait ou rembours√©</span>
                </div>
                <div class="guarantee-item">
                    <span class="guarantee-icon">üö´</span>
                    <span>Aucun engagement</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer modernis√© -->
    <footer class="footer-modern">
        <div class="footer-content">
            <div class="footer-main">
                <div class="footer-brand">
                    <div class="brand-logo">
                        <span class="brand-icon"></span>
                        <span class="brand-name">Evolut'IA</span>
                    </div>
                    <p class="brand-description">
                        L'intelligence artificielle au service de ton succ√®s scolaire.
                    </p>
                    <div class="newsletter-signup">
                        <h4>Reste inform√© des nouveaut√©s</h4>
                        <div class="newsletter-form">
                            <input type="email" placeholder="ton.email@exemple.com">
                            <button class="newsletter-btn">S'abonner</button>
                        </div>
                    </div>
                </div>

                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Solutions</h4>
                        <a href="produit.html">Tous nos packs</a>
                        <a href="prix.html">Tarifs</a>
                        <a href="#">Essai gratuit</a>
                        <a href="#">√âtudiants</a>
                    </div>

                    <div class="footer-column">
                        <h4>Entreprise</h4>
                        <a href="#">√Ä propos</a>
                        <a href="contact.html">Contact</a>
                        <a href="#">Carri√®res</a>
                        <a href="#">Presse</a>
                    </div>

                    <div class="footer-column">
                        <h4>Support</h4>
                        <a href="#">Centre d'aide</a>
                        <a href="#">Tutoriels</a>
                        <a href="#">FAQ</a>
                        <a href="#">Status</a>
                    </div>

                    <div class="footer-column">
                        <h4>L√©gal</h4>
                        <a href="#">Confidentialit√©</a>
                        <a href="#">CGU</a>
                        <a href="#">Cookies</a>
                        <a href="#">RGPD</a>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2024 Evolut'IA. Tous droits r√©serv√©s.</p>
                <div class="social-links">
                    <a href="#">Twitter</a>
                    <a href="#">LinkedIn</a>
                    <a href="#">Instagram</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.getElementById('main-header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Billing toggle functionality - Version corrig√©e
        const billingToggle = document.getElementById('billing-toggle');
        
        if (billingToggle) {
            billingToggle.addEventListener('change', function() {
                console.log('Toggle state:', this.checked);
                
                // S√©lection des prix
                const monthlyPrices = document.querySelectorAll('.monthly-price');
                const annualPrices = document.querySelectorAll('.annual-price');
                const annualSavings = document.querySelectorAll('.annual-savings');
                
                console.log('Found elements:', {
                    monthly: monthlyPrices.length,
                    annual: annualPrices.length,
                    savings: annualSavings.length
                });
                
                if (this.checked) {
                    // Mode annuel activ√©
                    monthlyPrices.forEach((price, index) => {
                        price.style.display = 'none';
                        console.log(`Monthly ${index} hidden:`, price.textContent);
                    });
                    
                    annualPrices.forEach((price, index) => {
                        price.style.display = 'inline';
                        console.log(`Annual ${index} shown:`, price.textContent);
                    });
                    
                    annualSavings.forEach((saving, index) => {
                        saving.style.display = 'block';
                        console.log(`Saving ${index} shown:`, saving.textContent);
                    });
                } else {
                    // Mode mensuel activ√©
                    monthlyPrices.forEach((price, index) => {
                        price.style.display = 'inline';
                        console.log(`Monthly ${index} shown:`, price.textContent);
                    });
                    
                    annualPrices.forEach((price, index) => {
                        price.style.display = 'none';
                        console.log(`Annual ${index} hidden:`, price.textContent);
                    });
                    
                    annualSavings.forEach((saving, index) => {
                        saving.style.display = 'none';
                        console.log(`Saving ${index} hidden:`, saving.textContent);
                    });
                }
            });
        } else {
            console.error('Billing toggle not found!');
        }

        // FAQ functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const faqItem = question.parentElement;
                const answer = faqItem.querySelector('.faq-answer');
                const toggle = question.querySelector('.faq-toggle');
                
                if (faqItem.classList.contains('active')) {
                    faqItem.classList.remove('active');
                    answer.style.maxHeight = null;
                    toggle.textContent = '+';
                } else {
                    // Close all other FAQs
                    document.querySelectorAll('.faq-item').forEach(item => {
                        item.classList.remove('active');
                        item.querySelector('.faq-answer').style.maxHeight = null;
                        item.querySelector('.faq-toggle').textContent = '+';
                    });
                    
                    // Open clicked FAQ
                    faqItem.classList.add('active');
                    answer.style.maxHeight = answer.scrollHeight + 'px';
                    toggle.textContent = '‚àí';
                }
            });
        });

        // Plan selection with API call
        document.addEventListener("DOMContentLoaded", () => {
            const planButtons = document.querySelectorAll(".plan-button");

            planButtons.forEach(button => {
                button.addEventListener("click", async (e) => {
                    e.preventDefault();

                    const planCard = button.closest(".plan-card");
                    const planName = planCard.dataset.plan;
                    
                    // Check if it's a contact button
                    if (button.textContent.includes('contacter') || button.textContent.includes('Nous contacter')) {
                        window.location.href = 'contact.html';
                        return;
                    }

                    const token = localStorage.getItem("token");
                    if (!token) {
                        alert("Vous devez √™tre connect√© pour choisir une formule.");
                        window.location.href = "login.html";
                        return;
                    }

                    try {
                        // Add loading state
                        button.classList.add('loading');
                        button.style.pointerEvents = 'none';

                        const response = await fetch("https://evolutia-back.onrender.com/choose-plan", {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                                Authorization: `Bearer ${token}`
                            },
                            body: JSON.stringify({ plan: planName })
                        });

                        if (!response.ok) {
                            throw new Error("Votre session a expir√© ou est invalide. Veuillez vous reconnecter.");
                        }

                        const data = await response.json();
                        
                        // Success feedback
                        button.classList.remove('loading');
                        button.innerHTML = '<span>‚úÖ Plan s√©lectionn√© !</span>';
                        button.style.background = '#22c55e';
                        
                        setTimeout(() => {
                            alert(`F√©licitations ! Vous avez choisi la formule : ${planName}.`);
                            console.log(`‚úÖ Utilisateur a choisi le plan : ${planName}`);
                        }, 500);

                    } catch (error) {
                        console.error("Erreur lors de la s√©lection du plan :", error);
                        button.classList.remove('loading');
                        button.style.pointerEvents = 'auto';
                        alert(error.message || "Une erreur est survenue.");
                        localStorage.removeItem("token");
                        window.location.href = "login.html";
                    }
                });
            });
        });

        // Floating elements animation
        document.addEventListener('DOMContentLoaded', () => {
            const floatingElements = document.querySelectorAll('.float-element');
            floatingElements.forEach((element, index) => {
                element.style.animationDelay = `${index * 0.5}s`;
            });
        });
    </script>
</body>
</html>